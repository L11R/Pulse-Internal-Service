"use strict";

var preTimeout = null;
var realTimeout = null;
var counterInterval = null;
var counterTimeout = 30;

function resetTimeouts(e) {
    clearTimeout(preTimeout);
    clearTimeout(realTimeout);
    clearInterval(counterInterval);
    counterTimeout = 30;
    $("#timeoutPopup").hide();

    preTimeout = setTimeout(function () {
        $("#timeoutPopup").show();
        counterInterval = setInterval(function () {
            if (counterTimeout > 0) {
                counterTimeout -= 1;
            }
            $('#timeoutPopup span').text(counterTimeout);
        }, 1000);
        realTimeout = setTimeout(function () {
            var xhr = new XMLHttpRequest();

            xhr.open('POST', '/');
            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            xhr.onload = function () {
                if (xhr.status === 200) {}
            };
            xhr.send(encodeURI('action=timeout'));
        }, 30 * 1000);
    }, 60 * 1000);
}
document.onclick = resetTimeouts;
resetTimeouts();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRpbWVvdXQuanMiXSwibmFtZXMiOlsicHJlVGltZW91dCIsInJlYWxUaW1lb3V0IiwiY291bnRlckludGVydmFsIiwiY291bnRlclRpbWVvdXQiLCJyZXNldFRpbWVvdXRzIiwiZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCIkIiwiaGlkZSIsInNldFRpbWVvdXQiLCJzaG93Iiwic2V0SW50ZXJ2YWwiLCJ0ZXh0IiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ubG9hZCIsInN0YXR1cyIsInNlbmQiLCJlbmNvZGVVUkkiLCJkb2N1bWVudCIsIm9uY2xpY2siXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsYUFBYSxJQUFqQjtBQUNBLElBQUlDLGNBQWMsSUFBbEI7QUFDQSxJQUFJQyxrQkFBa0IsSUFBdEI7QUFDQSxJQUFJQyxpQkFBaUIsRUFBckI7O0FBRUEsU0FBU0MsYUFBVCxDQUF1QkMsQ0FBdkIsRUFBMEI7QUFDdEJDLGlCQUFhTixVQUFiO0FBQ0FNLGlCQUFhTCxXQUFiO0FBQ0FNLGtCQUFjTCxlQUFkO0FBQ0FDLHFCQUFpQixFQUFqQjtBQUNBSyxNQUFFLGVBQUYsRUFBbUJDLElBQW5COztBQUVBVCxpQkFBYVUsV0FBVyxZQUFZO0FBQ2hDRixVQUFFLGVBQUYsRUFBbUJHLElBQW5CO0FBQ0FULDBCQUFrQlUsWUFBWSxZQUFZO0FBQ3RDLGdCQUFJVCxpQkFBaUIsQ0FBckIsRUFBd0I7QUFDcEJBLGtDQUFrQixDQUFsQjtBQUNIO0FBQ0RLLGNBQUUsb0JBQUYsRUFBd0JLLElBQXhCLENBQTZCVixjQUE3QjtBQUNILFNBTGlCLEVBS2YsSUFMZSxDQUFsQjtBQU1BRixzQkFBY1MsV0FBVyxZQUFZO0FBQ2pDLGdCQUFJSSxNQUFNLElBQUlDLGNBQUosRUFBVjs7QUFFQUQsZ0JBQUlFLElBQUosQ0FBUyxNQUFULEVBQWlCLEdBQWpCO0FBQ0FGLGdCQUFJRyxnQkFBSixDQUFxQixjQUFyQixFQUFxQyxtQ0FBckM7QUFDQUgsZ0JBQUlJLE1BQUosR0FBYSxZQUFXO0FBQ3BCLG9CQUFJSixJQUFJSyxNQUFKLEtBQWUsR0FBbkIsRUFBd0IsQ0FBRTtBQUM3QixhQUZEO0FBR0FMLGdCQUFJTSxJQUFKLENBQVNDLFVBQVUsZ0JBQVYsQ0FBVDtBQUVILFNBVmEsRUFVWCxLQUFHLElBVlEsQ0FBZDtBQVdILEtBbkJZLEVBbUJWLEtBQUcsSUFuQk8sQ0FBYjtBQW9CSDtBQUNEQyxTQUFTQyxPQUFULEdBQW1CbkIsYUFBbkI7QUFDQUEiLCJmaWxlIjoidGltZW91dC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBwcmVUaW1lb3V0ID0gbnVsbDtcbnZhciByZWFsVGltZW91dCA9IG51bGw7XG52YXIgY291bnRlckludGVydmFsID0gbnVsbDtcbnZhciBjb3VudGVyVGltZW91dCA9IDMwO1xuXG5mdW5jdGlvbiByZXNldFRpbWVvdXRzKGUpIHtcbiAgICBjbGVhclRpbWVvdXQocHJlVGltZW91dCk7XG4gICAgY2xlYXJUaW1lb3V0KHJlYWxUaW1lb3V0KTtcbiAgICBjbGVhckludGVydmFsKGNvdW50ZXJJbnRlcnZhbCk7XG4gICAgY291bnRlclRpbWVvdXQgPSAzMDtcbiAgICAkKFwiI3RpbWVvdXRQb3B1cFwiKS5oaWRlKCk7XG5cbiAgICBwcmVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoXCIjdGltZW91dFBvcHVwXCIpLnNob3coKTtcbiAgICAgICAgY291bnRlckludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGNvdW50ZXJUaW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgICAgIGNvdW50ZXJUaW1lb3V0IC09IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkKCcjdGltZW91dFBvcHVwIHNwYW4nKS50ZXh0KGNvdW50ZXJUaW1lb3V0KTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIHJlYWxUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgICAgIHhoci5vcGVuKCdQT1NUJywgJy8nKTtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XG4gICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge31cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB4aHIuc2VuZChlbmNvZGVVUkkoJ2FjdGlvbj10aW1lb3V0JykpO1xuXG4gICAgICAgIH0sIDMwKjEwMDApO1xuICAgIH0sIDYwKjEwMDApO1xufVxuZG9jdW1lbnQub25jbGljayA9IHJlc2V0VGltZW91dHM7XG5yZXNldFRpbWVvdXRzKCk7Il19
